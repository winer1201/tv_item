<layout name="Layout/content_new" />
	 {:loadfile('__PUBLIC__/js/mod/goods/myvideo','js')}
<link href="//vjs.zencdn.net/5.4.6/video-js.min.css" rel="stylesheet">
<script src="//vjs.zencdn.net/5.4.6/video.min.js"></script>
<script type="text/javascript">
    function init() {
        if (typeof (page_init) == "function")
            page_init();
    }
    init();
</script>
<style>
	#footer{display:none;}
</style>
    <!-- controls -->
    <video id="example_video_1" class="video-js vjs-default-skin vjs-big-play-centered" poster="__PUBLIC__/img/goods/poster.png" controls preload="none" width="1280" height="720"
           data-setup="{}"style="left:0;top:-20px;">
        <source src="" type='video/mp4' />
        <track kind="captions" src="demo.captions.vtt" srclang="en" label="English"></track><!-- Tracks need an ending tag thanks to IE9 -->
        <track kind="subtitles" src="demo.captions.vtt" srclang="en" label="English"></track><!-- Tracks need an ending tag thanks to IE9 -->
    </video>
    <script type="text/javascript">
    function page_init(){
    	player.init();
    }
    var myPlayer = videojs('example_video_1');
     	myPlayer.play();
        //console.log(file)
        var player={
        	init: function () {
        		var that = this;
		        that.addlisten();
   			},
   			control:null,
   			addlisten: function () {
		        var that = player;
		        that.control = new controlevent({
		            extMove: that.move,
	        	});
		        that.control.begin();
		    },
   			move:function(key){
   				var that = player;
		        var backUrl = "",
		        backUrl = tp.util.getQueryString("backUrl");
		        
		        if (key == tp_move_key.up) {
		            //console.log(backUrl)
		            tp.util.redirectUrl(backUrl);
		        }
   			}
        }
    videojs("example_video_1").ready(function(){
        var myPlayer = this;
        myvideoHelper.init(myPlayer);
        var file = "";
        file = tp.util.getQueryString("file");
        //console.log(file)
       // file = "video/" + file;
        myvideoHelper.play(file);
        //myPlayer.enterFullScreen();
        //设置播放文件路径
        //var source = document.getElementsByTagName("source");
        
        //myPlayer.src(file);
        //source.setAttribute("src", "video/按摩三阴交穴可以减缓衰老.mp4")
        //myPlayer.play();
    });
        TpMsgHelper.Init();
    </script>


